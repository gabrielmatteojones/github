---
layout: base
title: "FOIA"
permalink: "/FOIA/"
---


<div class="container"><div id="intro"><div class="ca"><!----><div role="region" aria-label="Contenuto principale della pagina" class="col-md-8 col-lg-8"><!----><!----><!----><h2 class="title-xxxlarge pt-4">FOIA</h2><!----><!----><!----><!----><!----><!----><!----><h3 class="sr-only visually-hidden">Contenuto</h3><!----><p></p><!----><!----><div class="row mt-2"><div><small><span>Data pubblicazione:</span><br><strong>03/02/22</strong></small><!----></div><!----></div><!----></div><!----><!----><!----><!----><!----></div><!----><!----></div></div>




<div class="container my-5">
  <h1 class="mb-4">FOIA</h1>

  <!-- Barra di ricerca -->
  <form id="filtro-albo" class="mb-5">
    <div class="row">
      <div class="form-group col-md-3">
        <input type="number" id="numeroDocumento" class="form-control" placeholder="Numero documento">
      </div>

      <div class="form-group col-md-3">
        <input type="text" id="ricercaTesto" class="form-control" placeholder="Cerca nel testo">
      </div>

      <div class="form-group col-md-3">
        <input type="text" id="dipartimento" class="form-control" placeholder="Dipartimento">
      </div>

      <div class="form-group col-md-3">
        <select id="tipologia" class="form-control">
          <option value="">Tutte le tipologie</option>
          {% assign tipi = site.doc | map: "title" | uniq %}
          {% for t in tipi %}
            <option value="{{ t }}">{{ t }}</option>
          {% endfor %}
        </select>
      </div>
    </div>

    <div class="text-center mt-3">
      <button type="submit" class="btn btn-outline-primary text-uppercase">Cerca</button>
    </div>
  </form>

  <!-- Risultati -->
  <div class="results row" id="risultati">
    <div class="col-12 mb-3">
      Risultati trovati: <span id="conteggio">{{ site.doc | size }}</span>
    </div>

    {% assign doc_ordinati = site.doc | sort: "update" | reverse %}
    {% for documento in doc_ordinati %}
      <div class="col-12 amministrazione amministrazione-primary documento p-3 mb-4 rounded shadow-sm"
           data-numero="{{ documento.id }}"
           data-testo="{{ documento.descrizionebreve | downcase }} {{ documento.descrizione | downcase }}"
           data-dipartimento="{{ documento.uo.nome | downcase }}"
           data-tipologia="{{ documento.title | downcase }}">

        <h3 class="h5">{{ documento.title }}</h3>

        <p class="mb-1"><strong>Numero:</strong> {{ documento.num }}</p>
        <p class="mb-1"><strong>Dipartimento:</strong> {{ documento.uo.nome }}</p>
        <p class="mb-1"><strong>Descrizione breve:</strong> {{ documento.descrizionebreve }}</p>
        <p class="mb-1"><strong>Ultimo aggiornamento:</strong> {{ documento.update | date: "%d/%m/%Y" }}</p>
        <a href="{{ documento.url }}" class="btn btn-sm btn-secondary">Vedi dettaglio</a>
      </div>
    {% endfor %}
  </div>
</div>

<script>
document.getElementById("filtro-albo").addEventListener("submit", function(e){
  e.preventDefault();

  let numero = document.getElementById("numeroDocumento").value.toLowerCase();
  let testo = document.getElementById("ricercaTesto").value.toLowerCase();
  let dipartimento = document.getElementById("dipartimento").value.toLowerCase();
  let tipologia = document.getElementById("tipologia").value.toLowerCase();

  let risultati = document.querySelectorAll(".documento");
  let count = 0;

  risultati.forEach(doc => {
    let match = true;
    if (numero && !doc.dataset.numero.toLowerCase().includes(numero)) match = false;
    if (testo && !doc.dataset.testo.includes(testo)) match = false;
    if (dipartimento && !doc.dataset.dipartimento.includes(dipartimento)) match = false;
    if (tipologia && !doc.dataset.tipologia.includes(tipologia)) match = false;

    doc.style.display = match ? "block" : "none";
    if (match) count++;
  });

  document.getElementById("conteggio").innerText = count;
});
</script>
